# EUREKA Environment Configuration
# Copy this file to .env and fill in your values

# ==========================================
# Environment
# ==========================================
ENVIRONMENT=development
DEBUG=true

# ==========================================
# Database
# ==========================================
DATABASE_URL=postgresql://eureka:eureka_dev_password@localhost:5432/eureka
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# ==========================================
# Redis
# ==========================================
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=50

# ==========================================
# Object Storage (MinIO/S3)
# ==========================================
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=eureka
S3_SECRET_KEY=eureka_minio_password
S3_BUCKET_NAME=eureka
S3_REGION=us-east-1

# ==========================================
# Search (OpenSearch/Elasticsearch)
# ==========================================
OPENSEARCH_URL=http://localhost:9200
OPENSEARCH_USERNAME=
OPENSEARCH_PASSWORD=

# ==========================================
# Kafka (Redpanda)
# ==========================================
KAFKA_BROKERS=localhost:9092
KAFKA_GROUP_ID=eureka-analytics

# ==========================================
# Authentication
# ==========================================
JWT_SECRET=change_this_in_production_to_a_long_random_string
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60
REFRESH_TOKEN_EXPIRATION_DAYS=30

# Auth Provider (ory or auth0)
AUTH_PROVIDER=ory
ORY_KRATOS_URL=http://localhost:4433
ORY_HYDRA_URL=http://localhost:4444

# Auth0 (if using)
AUTH0_DOMAIN=
AUTH0_CLIENT_ID=
AUTH0_CLIENT_SECRET=
AUTH0_AUDIENCE=

# ==========================================
# LLM APIs
# ==========================================
ANTHROPIC_API_KEY=sk-ant-...
OPENAI_API_KEY=sk-...
LITELLM_MODEL=claude-sonnet-4-20250514
LITELLM_FALLBACK_MODEL=gpt-4o

# Local LLM (optional)
LOCAL_LLM_ENABLED=false
LOCAL_LLM_URL=http://localhost:11434
LOCAL_LLM_MODEL=llama3

# LLM Settings
MAX_TOKENS=4000
TEMPERATURE=0.7
TOKEN_BUDGET_PER_ORG_MONTHLY=1000000

# ==========================================
# Embeddings
# ==========================================
EMBEDDING_MODEL=text-embedding-3-large
EMBEDDING_DIMENSION=1536
LOCAL_EMBEDDING_MODEL=all-MiniLM-L6-v2

# ==========================================
# Application URLs
# ==========================================
FRONTEND_URL=http://localhost:3000
ADMIN_URL=http://localhost:3001
API_BASE_URL=http://localhost:8000

# ==========================================
# Email (SMTP)
# ==========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@eureka.edu
SMTP_FROM_NAME=EUREKA Platform

# ==========================================
# Payments (Stripe)
# ==========================================
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# ==========================================
# Monitoring
# ==========================================
SENTRY_DSN=
PROMETHEUS_ENABLED=true
GRAFANA_URL=http://localhost:3030

# ==========================================
# Compliance & Security
# ==========================================
# FERPA
FERPA_MODE=true
DATA_RETENTION_DAYS=2555  # 7 years

# HIPAA (Medical tier)
HIPAA_MODE=false
PHI_ENCRYPTION_KEY=
AUDIT_LOG_RETENTION_YEARS=6

# COPPA (High School tier)
COPPA_MODE=true
PARENTAL_CONSENT_REQUIRED=true
MINIMUM_AGE=13

# Vault (for secrets management in production)
VAULT_ENABLED=false
VAULT_ADDR=http://localhost:8200
VAULT_TOKEN=

# ==========================================
# Feature Flags
# ==========================================
FEATURE_GAMIFICATION=true
FEATURE_MOBILE_APP=true
FEATURE_PROCTORING=false
FEATURE_RESEARCH_MODE=false
FEATURE_MULTILINGUAL=true

# ==========================================
# Rate Limiting
# ==========================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ==========================================
# Tier-Specific Settings
# ==========================================
# High School
HS_MAX_SESSION_MINUTES=45
HS_CONTENT_FILTER_LEVEL=strict

# Undergraduate
UG_MAX_SESSION_MINUTES=90
UG_PLAGIARISM_CHECK=true

# Graduate
GRAD_MAX_SESSION_MINUTES=120
GRAD_IRB_MODE=true

# Professional - Medical
MED_HIPAA_STRICT=true
MED_CME_TRACKING=true

# Professional - Law
LAW_ABA_COMPLIANCE=true
LAW_BLUEBOOK_VALIDATION=true

# Professional - MBA
MBA_CASE_LIBRARY_ENABLED=true

# Professional - Engineering
ENG_FE_PE_MODE=true

# ==========================================
# Internationalization
# ==========================================
DEFAULT_LOCALE=en-US
SUPPORTED_LOCALES=en-US,es-ES,zh-CN,de-DE

# ==========================================
# Analytics & Telemetry
# ==========================================
ANALYTICS_ENABLED=true
TELEMETRY_SAMPLE_RATE=0.1
MIXPANEL_TOKEN=
GOOGLE_ANALYTICS_ID=

# ==========================================
# Development
# ==========================================
HOT_RELOAD=true
LOG_LEVEL=debug
PRETTY_LOGS=true

# Test accounts (dev only - remove in production)
TEST_ADMIN_EMAIL=admin@eureka.dev
TEST_ADMIN_PASSWORD=admin123
TEST_TEACHER_EMAIL=teacher@eureka.dev
TEST_STUDENT_EMAIL=student@eureka.dev
